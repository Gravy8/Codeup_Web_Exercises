<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=windows-1252">
    <title>Walmart</title>
    <link
            rel="stylesheet"
            href="css/bootstrap.css"
    >
    <style>
        #lucky-circle {
            background-color: gray;
            border-radius: 50%;
            width: 200px;
            height: 200px;
            margin: 0 auto;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>Lucky Number</h1>
    <div class="col-md-6">
        <form>
            <div class="form-group">
                <label for="payment">Payment $</label>
                <input type="email" class="form-control" id="payment"
                       placeholder="0.00">
            </div>
            <button id="get-lucky-number" type="button" class="btn btn-primary">
                I'm feeling lucky
            </button>
        </form>
    </div>
    <div class="col-md-6">
        <div id="lucky-circle"></div>
        <p class="lead text-center">
            Final price <span class="lead" id="final-price"></span>
        </p>
    </div>
</div>
<script src="js/jquery.js"></script>
<script src="js/bootstrap.js"></script>
<script>
    (function () {
        'use strict';
        function animate(color, finalPrice) {
            var colors = ['green', 'yellow', 'blue', 'red', 'orange'];
            var count = Math.floor(Math.random() * 25);
            var i = 0;
            var j = 0;
            var id = setInterval(function () {
                var $circle = $('#lucky-circle');
                $circle.css('background-color', colors[j]);
                console.log(i,j);
                i++;
                (j == 4) ? j = 0: j++;
                if (i == count) {
                    clearInterval(id);
                    $circle.css('background-color', colors[color]);
                    $('#final-price').html('$' + finalPrice.toFixed(2));
                }
            }, 300);
        }

        $('#get-lucky-number').on('click', function () {
            var luckyNumber = Math.floor(Math.random() * 6);
            var discounts = [.9, .75, .65, .5, 0];
            var finalPrice = $('#payment').val() * discounts[luckyNumber];

            animate(luckyNumber, finalPrice);
        });
    })();
</script>
</body>